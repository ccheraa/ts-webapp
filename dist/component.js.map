{"version":3,"file":"component.js","sourceRoot":"","sources":["../src/component.ts"],"names":[],"mappings":"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","sourcesContent":["let dir = 'src/client/app/component/';\r\nimport { Tools } from './tools';\r\n\r\nclass Tool {\r\n  static _name: string;\r\n  static _Name: string;\r\n  static actions(short = true): string[] {\r\n    return short ? ['create (c)', 'remove (r)'] : ['create', 'remove'];\r\n  }\r\n  static do(action: string): (args: string[]) => void {\r\n    switch (action) {\r\n      case 'c':\r\n      case 'create': return Tool.create;\r\n      case 'r':\r\n      case 'remove': return Tool.remove;\r\n      default: Tools.error((action ? 'unkown action \"' + action + '\"' : 'must define an action') + '\\navailable actions: ' + Tool.actions().join(', ')); return;\r\n    }\r\n  }\r\n  static init(args: string[]) {\r\n    if (args.length) {\r\n      Tool._Name = args[0];\r\n      Tool._name = args[1] || Tools.hyphen(args[0]);\r\n      return true;\r\n    } else {\r\n      Tools.error('use ts-webapp component <' + Tool.actions().join('/') + '> <component name> <filename?>');\r\n      return false;\r\n    }\r\n  }\r\n  public static create(args: string[]) {\r\n    if (!Tool.init(args)) { return; }\r\n    let fileTS =\r\n`import { Component, OnInit } from '@angular/core';\r\nimport { NavigatorService } from '../../service';\r\n\r\n@Component({\r\n  selector: 'app-${Tool._name}',\r\n  templateUrl: './${Tool._name}.component.html',\r\n  styleUrls: ['./${Tool._name}.component.scss']\r\n})\r\nexport class ${Tool._Name}Component implements OnInit {\r\n  constructor(private nav: NavigatorService) { }\r\n  ngOnInit() {\r\n    this.nav.title('${Tool._Name}');\r\n    this.nav.home(false);\r\n    this.nav.menu([]);\r\n  }\r\n}\r\n`;\r\n    let fileHTML = `<p>${Tool._Name} works!</p>`;\r\n    Tools.createDir(dir + '/' + Tool._name, (err) => {\r\n      if (err) { return Tools.error(err); };\r\n      Tools.writeFile(dir + '/' + Tool._name + '/' + Tool._name + '.component.ts', fileTS, function (err) {\r\n        if (err) { return Tools.error(err); };\r\n        Tools.writeFile(dir + '/' + Tool._name + '/' + Tool._name + '.component.html', fileHTML, function (err) {\r\n          if (err) { return Tools.error(err); };\r\n          Tools.writeFile(dir + '/' + Tool._name + '/' + Tool._name + '.component.scss', '', function (err) {\r\n            if (err) { return Tools.error(err); };\r\n            Tools.addBeforeMulti(dir + 'index.ts', [\r\n              ['/// exports', 'export * from \\'./' + Tool._name + '/' + Tool._name + '.component\\';'],\r\n              ['/// imports', 'import { ' + Tool._Name + 'Component } from \\'./' + Tool._name + '/' + Tool._name + '.component\\';'],\r\n              ['/// components', '  ' + Tool._Name + 'Component,']\r\n            ], () => {});\r\n          });\r\n        });\r\n      });\r\n    });\r\n  }\r\n  public static remove(args: string[]) {\r\n    if (!Tool.init(args)) { return; }\r\n    Tools.deleteDir(dir + '/' + Tool._name, (err) => {\r\n      if (err) { return Tools.error(err); };\r\n      Tools.removeLines(dir + 'index.ts', [\r\n        'export * from \\'./' + Tool._name + '/' + Tool._name + '.component\\';',\r\n        'import { ' + Tool._Name + 'Component } from \\'./' + Tool._name + '/' + Tool._name + '.component\\';',\r\n        '  ' + Tool._Name + 'Component,'\r\n      ]);\r\n    });\r\n  }\r\n}\r\nexport { Tool as Component}"]}