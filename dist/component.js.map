{"version":3,"file":"component.js","sourceRoot":"","sources":["../src/component.ts"],"names":[],"mappings":"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","sourcesContent":["let dir = 'src/client/app/component/';\r\nimport { error, hyphen, createDir, writeFile, tplFile, tpl, addBeforeMulti, deleteDir, removeLines } from './tools';\r\n\r\nlet vars: any = { dir }\r\nclass Tool {\r\n  static actions(short = true): string[] {\r\n    return short ? ['create (c)', 'remove (r)'] : ['create', 'remove'];\r\n  }\r\n  static do(action: string): (args: string[]) => void {\r\n    switch (action) {\r\n      case 'c':\r\n      case 'create': return Tool.create;\r\n      case 'r':\r\n      case 'remove': return Tool.remove;\r\n      default: error((action ? 'unkown action \"' + action + '\"' : 'must define an action') + '\\navailable actions: ' + Tool.actions().join(', ')); return;\r\n    }\r\n  }\r\n  static init(args: string[]) {\r\n    if (args.length) {\r\n      vars.Name = args[0];\r\n      vars.name = args[1] || hyphen(args[0]);\r\n      return true;\r\n    } else {\r\n      error('use ts-webapp component <' + Tool.actions().join('/') + '> <component name> <filename?>');\r\n      return false;\r\n    }\r\n  }\r\n  public static create(args: string[]) {\r\n    if (!Tool.init(args)) { return; }\r\n    createDir(tpl('{dir}/{name}', vars));\r\n    writeFile(\r\n      tpl('{dir}/{name}/{name}.component.ts', vars),\r\n      tplFile('component.ts', vars)\r\n    );\r\n    writeFile(\r\n      tpl('{dir}/{name}/{name}.component.html', vars),\r\n      tplFile('component.html', vars)\r\n    );\r\n    writeFile(\r\n      tpl('{dir}/{name}/{name}.component.scss', vars),\r\n      tplFile('component.scss', vars)\r\n    );\r\n    addBeforeMulti(tpl('{dir}/index.ts', vars), [\r\n      ['/// exports', \r\n      tpl('export * from \\'./{name}/{name}.component\\';', vars)],\r\n      ['/// imports', tpl('import { {Name}Component } from \\'./{name}/{name}.component\\';', vars)],\r\n      ['/// components', tpl('  {Name}Component,', vars)]\r\n    ]);\r\n  }\r\n  public static remove(args: string[]) {\r\n    if (!Tool.init(args)) { return; }\r\n    deleteDir(dir + '/' + vars.name, (err) => {\r\n      if (err) { return error(err); };\r\n      removeLines(tpl('{dir}/index.ts', vars), [\r\n        tpl('export * from \\'./{name}/{name}.component\\';', vars),\r\n        tpl('import { {Name}Component } from \\'./{name}/{name}.component\\';', vars),\r\n        tpl('  {Name}Component,', vars)\r\n      ]);\r\n    });\r\n  }\r\n}\r\nexport { Tool as Component }\r\n"]}